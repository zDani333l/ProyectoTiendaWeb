@model ProyectoWebAppTienda.Models.PaginadorGenerico<ProyectoWebAppTienda.Models.DetalleProductoViewModel>
@{
    ViewBag.Title = "Lista Productos";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!--Funcionalidad de paginas paginador-->
@{
    int Inicial = 1;
    var radio = 2;
    var CantidadMaximaDePaginas = radio * 2 + 1;
    int Final = (Model.TotalPaginas > CantidadMaximaDePaginas ? CantidadMaximaDePaginas : Model.TotalPaginas);
    if (Model.PaginaActual > radio + 1)
    {
        Inicial = Model.PaginaActual - radio;
        if (Model.TotalPaginas > Model.PaginaActual + radio)
        {
            Final = Model.PaginaActual + radio;
        }
        else
        {
            Final = Model.TotalPaginas;
        }
    }
}

<main class="ps-main">
    <div class="ps-products-wrap pt-80 pb-80">
        <div class="ps-products" data-mh="product-listing">
            <div class="ps-product-action">
                <div class="ps-product__filter">
                    <select class="ps-select selectpicker">
                        <option value="1">Shortby</option>
                        <option value="2">Name</option>
                        <option value="3">Price (Low to High)</option>
                        <option value="3">Price (High to Low)</option>
                    </select>
                </div>
                <div class="ps-pagination">
                    <ul class="pagination">
                        @if (Model.PaginaActual == 1)
                        {
                            <li class="disabled"><a href="/Producto/ListaProductos?pagina=1"><i class="fa fa-angle-left"></i></a></li>
                        }
                        else
                        {
                            int p = Model.PaginaActual - 1; ;
                            <li><a href="/Producto/ListaProductos?pagina=@p"><i class="fa fa-angle-left"></i></a></li>
                        }
                        @for (int i = Inicial; i <= Final; i++)
                        {
                            if (i == Model.PaginaActual)
                            {
                                <li class="active"><a href="/Producto/ListaProductos?pagina=@i">@i.ToString()</a></li>
                            }
                            else
                            {
                                <li><a href="/Producto/ListaProductos?pagina=@i">@i.ToString()</a></li>
                            }
                        }
                        @if (Model.PaginaActual == Model.TotalPaginas)
                        {
                            <li><a href="/Producto/ListaProductos?pagina=@Model.TotalPaginas"><i class="fa fa-angle-right"></i></a></li>
                        }
                        else
                        {
                            int x = Model.PaginaActual + 1;
                            <li><a href="/Producto/ListaProductos?pagina=@x"><i class="fa fa-angle-right"></i></a></li>
                        }
                    </ul>
                </div>
            </div>
            <div class="ps-product__columns">
                @foreach (var item in Model.Resultado)
                {
                    <div class="ps-product__column">
                        <div class="ps-shoe mb-30">
                            <div class="ps-shoe__thumbnail">
                                <a class="ps-shoe__favorite" href="#"><i class="ps-icon-heart"></i></a>
                                <img src="/@item.Img1.Substring(Server.MapPath("~").Length).Replace("\\", "/")" alt="">
                                <a class="ps-shoe__overlay" href="product-detail.html"></a>
                            </div>
                            <div class="ps-shoe__content">
                                <div class="ps-shoe__variants">
                                    <div class="ps-shoe__variant normal">
                                        <img src="/@item.Img1.Substring(Server.MapPath("~").Length).Replace("\\", "/")" alt="">
                                        <img src="/@item.Img2.Substring(Server.MapPath("~").Length).Replace("\\", "/")" alt="">
                                        <img src="/@item.Img3.Substring(Server.MapPath("~").Length).Replace("\\", "/")" alt="">
                                    </div>

                                </div>
                                <div class="ps-shoe__detail">
                                    <a class="ps-shoe__name" href="#">@item.NombrePrudcto</a>
                                    <p class="ps-shoe__categories">
                                        @for (int i = 0; i < item.Categorias.Length; i++)
                                        {
                                            if ((item.Categorias.Length-1) == i)
                                            {
                                                <a href="#">@item.Categorias[i]</a>
                                            }
                                            else
                                            {
                                                <a href="#">@item.Categorias[i],</a>
                                            }

                                        }
                                    </p>
                                    <span class="ps-shoe__price"> $ @item.Precio</span>
                                </div>
                            </div>
                        </div>
                    </div>
                }

            </div>

            <div class="ps-product-action">
                <div class="ps-product__filter">
                    <select class="ps-select selectpicker">
                        <option value="1">Shortby</option>
                        <option value="2">Name</option>
                        <option value="3">Price (Low to High)</option>
                        <option value="3">Price (High to Low)</option>
                    </select>
                </div>
                <div class="ps-pagination">
                    <ul class="pagination">
                        <li><a href="#"><i class="fa fa-angle-left"></i></a></li>
                        <li class="active"><a href="#">1</a></li>
                        <li><a href="#">2</a></li>
                        <li><a href="#">3</a></li>
                        <li><a href="#">...</a></li>
                        <li><a href="#"><i class="fa fa-angle-right"></i></a></li>
                    </ul>
                </div>
            </div>
        </div>


        <div class="ps-sidebar" data-mh="product-listing">
            <aside class="ps-widget--sidebar ps-widget--category">
                <div class="ps-widget__header">
                    <h3>Categoria</h3>
                </div>
                <div class="ps-widget__content">
                    <ul class="ps-list--checked">
                        @*@foreach (var item in ViewBag.Categorias)
                        {
                            <li><a href="product-listing.html">@item.</a></li>
                        }*@
                    </ul>
                </div>
            </aside>
            <aside class="ps-widget--sidebar ps-widget--filter">
                <div class="ps-widget__header">
                    <h3>Category</h3>
                </div>
                <div class="ps-widget__content">
                    <div class="ac-slider" data-default-min="300" data-default-max="2000" data-max="3450" data-step="50" data-unit="$"></div>
                    <p class="ac-slider__meta">Price:<span class="ac-slider__value ac-slider__min"></span>-<span class="ac-slider__value ac-slider__max"></span></p><a class="ac-slider__filter ps-btn" href="#">Filter</a>
                </div>
            </aside>
            <aside class="ps-widget--sidebar ps-widget--category">
                <div class="ps-widget__header">
                    <h3>Sky Brand</h3>
                </div>
                <div class="ps-widget__content">
                    <ul class="ps-list--checked">
                        <li class="current"><a href="product-listing.html">Nike(521)</a></li>
                        <li><a href="product-listing.html">Adidas(76)</a></li>
                        <li><a href="product-listing.html">Baseball(69)</a></li>
                        <li><a href="product-listing.html">Gucci(36)</a></li>
                        <li><a href="product-listing.html">Dior(108)</a></li>
                        <li><a href="product-listing.html">B&G(108)</a></li>
                        <li><a href="product-listing.html">Louis Vuiton(47)</a></li>
                    </ul>
                </div>
            </aside>
            <aside class="ps-widget--sidebar ps-widget--category">
                <div class="ps-widget__header">
                    <h3>Width</h3>
                </div>
                <div class="ps-widget__content">
                    <ul class="ps-list--checked">
                        <li class="current"><a href="product-listing.html">Narrow</a></li>
                        <li><a href="product-listing.html">Regular</a></li>
                        <li><a href="product-listing.html">Wide</a></li>
                        <li><a href="product-listing.html">Extra Wide</a></li>
                    </ul>
                </div>
            </aside>
            <div class="ps-sticky desktop">
                <aside class="ps-widget--sidebar">
                    <div class="ps-widget__header">
                        <h3>Size</h3>
                    </div>
                    <div class="ps-widget__content">
                        <table class="table ps-table--size">
                            <tbody>
                                <tr>
                                    <td class="active">3</td>
                                    <td>5.5</td>
                                    <td>8</td>
                                    <td>10.5</td>
                                    <td>13</td>
                                </tr>
                                <tr>
                                    <td>3.5</td>
                                    <td>6</td>
                                    <td>8.5</td>
                                    <td>11</td>
                                    <td>13.5</td>
                                </tr>
                                <tr>
                                    <td>4</td>
                                    <td>6.5</td>
                                    <td>9</td>
                                    <td>11.5</td>
                                    <td>14</td>
                                </tr>
                                <tr>
                                    <td>4.5</td>
                                    <td>7</td>
                                    <td>9.5</td>
                                    <td>12</td>
                                    <td>14.5</td>
                                </tr>
                                <tr>
                                    <td>5</td>
                                    <td>7.5</td>
                                    <td>10</td>
                                    <td>12.5</td>
                                    <td>15</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </aside>
                <aside class="ps-widget--sidebar">
                    <div class="ps-widget__header">
                        <h3>Color</h3>
                    </div>
                    <div class="ps-widget__content">
                        <ul class="ps-list--color">
                            <li><a href="#"></a></li>
                            <li><a href="#"></a></li>
                            <li><a href="#"></a></li>
                            <li><a href="#"></a></li>
                            <li><a href="#"></a></li>
                            <li><a href="#"></a></li>
                            <li><a href="#"></a></li>
                            <li><a href="#"></a></li>
                            <li><a href="#"></a></li>
                            <li><a href="#"></a></li>
                            <li><a href="#"></a></li>
                            <li><a href="#"></a></li>
                            <li><a href="#"></a></li>
                        </ul>
                    </div>
                </aside>
            </div>
        </div>
    </div>


</main>

